!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){const r=i(1);window.onload=e=>{r()}},function(e,t,i){const r=i(2);e.exports=function(){let e=document.getElementById("mainView"),t=document.getElementById("playBtn"),i=document.getElementById("recordsBtn"),n=document.getElementById("gameView"),d=document.getElementById("backBtn0"),o=document.getElementById("easy"),l=document.getElementById("medium"),a=document.getElementById("hard"),s=document.getElementById("startGameBtn"),c=document.getElementById("backBtn1"),m=document.getElementById("recordView"),u=r();t.onclick=t=>{e.style.visibility="hidden",n.style.visibility="visible"},i.onclick=t=>{e.style.visibility="hidden",m.style.visibility="visible"},d.onclick=t=>{n.style.visibility="hidden",e.style.visibility="visible"},c.onclick=t=>{m.style.visibility="hidden",e.style.visibility="visible"};let p=[],y="";o.onclick=e=>{y="Easy",u.removeCards(p),p=u.createCardPairs(5),u.prepareArea(p)},l.onclick=e=>{y="Medium",u.removeCards(p),p=u.createCardPairs(10),u.prepareArea(p)},a.onclick=e=>{y="Hard",u.removeCards(p),p=u.createCardPairs(15),u.prepareArea(p)},s.onclick=e=>{let t="";if(p.length){for(t=prompt("Player name");!t.trim().length;)t=prompt("Player name");u.gameStart(t,y,p)}else alert("Choose difficult")}}},function(e,t,i){const r=i(3),n=i(4);e.exports=function(){return createCardPairs=e=>{let t=[];for(let i=0;i<e;i++){let e=r("url(img/cardBack.png)",`url(img/${i}.jpg)`),n=r("url(img/cardBack.png)",`url(img/${i}.jpg)`);e.div.id=`magicCardo${i}_1`,n.div.id=`magicCardo${i}_2`,t.push(e),t.push(n)}return t.sort(e=>.5-Math.random())},printCards=e=>{let t=0,i=document.getElementById("deckPlaceHolder");e.forEach(e=>{e.div.style.marginLeft=t+"%",i.appendChild(e.div),t+=.2})},moveCardsToPlayField=e=>{let t=document.getElementById("playField"),i=0;e.forEach(r=>{e.indexOf(r)%6==0&&i++,r.div.style.gridColumn=`${e.indexOf(r)%6+1}/${e.indexOf(r)%6+1}`,r.div.style.gridRow=`${i}/${i}`,r.div.style.marginLeft="0px",r.div.style.position="",t.appendChild(document.getElementById(r.div.id))})},prepareArea=e=>{n(e.size),printCards(e)},removeCardPairById=(e,t)=>{let i=[];t.forEach(t=>{t.div.id.slice(0,-2)==e.slice(0,-2)&&(i.push(t),document.getElementById(t.div.id).remove())}),t.splice(t.indexOf(i.pop()),1),t.splice(t.indexOf(i.pop()),1)},turnOverOpenCards=e=>{e.forEach(e=>{e.position&&e.turnOver()})},removeCards=e=>{e.forEach(e=>{document.getElementById(e.div.id).remove()}),e=[]},recordStat=(e,t,i)=>{let r=document.getElementById("recordList"),n=document.createElement("li");n.textContent=`Игрок ${e} справился с игрой на сложности ${t}, за ${i} кликов`,r.appendChild(n)},gameStart=(e,t,i)=>{moveCardsToPlayField(i);let r=0;i.forEach(n=>{document.getElementById(n.div.id).onclick=d=>{r++;let o=[],l=0;if(n.turnOver(),i.forEach(e=>{e.position&&(l++,o.push(e.div.id))}),2==l){let n=o.shift(),d=o.shift();n.slice(0,-2)==d.slice(0,-2)?(setTimeout(e=>removeCardPairById(n,i),1e3),2==i.length&&(setTimeout(e=>alert("Игра окончена! Проверьте страницу рекордов"),1005),recordStat(e,t,r))):setTimeout(e=>turnOverOpenCards(i),1e3)}}})},{createCardPairs:createCardPairs,prepareArea:prepareArea,removeCards:removeCards,gameStart:gameStart}}},function(e,t){e.exports=function(e,t){let i=document.createElement("div");return i.style.backgroundImage=e,i.style.position="absolute",i.style.width="180px",i.style.height="273px",i.style.backgroundSize="100% 100%",{backImg:e,frontImg:t,div:i,position:!1,turnOver(){this.position?this.div.style.backgroundImage=this.backImg:this.div.style.backgroundImage=this.frontImg,this.position=!this.position}}}},function(e,t){e.exports=function(e){let t=document.getElementById("playArea"),i=document.getElementById("playField");i.style.width="1080px",i.style.height=273*Math.ceil(e/6)+"px",i.style.gridTemplateColumns="repeat(6,180px)",i.style.gridTemplateRows=`repeat(${Math.ceil(e/6)},273px)`,i.style.gridGap="10px 10px",t.style.width=i.style.width+273,t.style.height=i.style.height}}]);